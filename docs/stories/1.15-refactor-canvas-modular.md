# Story 1.15: Refactor DesignCanvas2D into Modular Components

**Epic**: Epic 1 - Eliminate Circular Dependency Patterns
**Priority**: P2
**Effort**: 16 hours
**Status**: ðŸŸ¡ Not Started

---

## User Story

As a developer,
I want DesignCanvas2D split into smaller, focused components,
so that the code is maintainable and testable.

---

## Dependencies

- âœ… Stories 1.3, 1.4, 1.5 (coordinate system must be unified first)

---

## Acceptance Criteria

- [ ] `PlanViewCanvas.tsx` created (plan view rendering, <800 lines)
- [ ] `ElevationViewCanvas.tsx` created (elevation rendering, <800 lines)
- [ ] `CanvasSharedUtilities.ts` created (zoom, pan, selection logic)
- [ ] DesignCanvas2D.tsx becomes orchestrator (<400 lines)
- [ ] Each component has clear, single responsibility
- [ ] React.memo applied to prevent unnecessary re-renders
- [ ] useMemo/useCallback used for expensive calculations

---

## Integration Verification

- [ ] IV1: All views render identically (visual regression tests)
- [ ] IV2: Performance maintained or improved (60 FPS target)
- [ ] IV3: Element dragging, selection, and placement still work correctly

---

## Implementation Reference

See [CODE_REVIEW_COMPREHENSIVE.md](../CODE_REVIEW_COMPREHENSIVE.md) - Issue #12, High Priority

Full details: [prd.md](../prd.md) Section 4, Story 1.15

---

## Session Folder

Create: `docs/session-2025-MM-DD-story-1.15-canvas-modular/`

---

## Completion Checklist

- [ ] All Acceptance Criteria met
- [ ] All Integration Verification steps passed
- [ ] Performance benchmarks passed
- [ ] Changes committed to git
- [ ] Story marked as âœ… Complete in this file
